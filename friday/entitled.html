<!doctype html>
<html lang="en">
<head>
    <title aria-live="assertive">Initial title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        h1:focus, .tab-pane:focus {
            outline:2px solid red;
        }
    </style>
</head>
<body>
    <div class="container">
        <br>
        <h1 aria-live="polite">Challenges in Single Page Applications</h1>
        <p>Problem statement: in Single Page Applications (SPA) user actions change elements of the visual display in ways that would traditionally involve a new page.  With a new page a screen reader user experiences the new page as a whole. Some potential problems of SPA:</p> 
        <ul>
            <li>screen reader users may be unaware of changes</li>
            <li>keyboard users may need to traverse large parts of the focusable DOM to go to the new locale</li>
            <li>depending on the change, other users may miss the new content or may be distracted by it</li>
        </ul>
        <ul>
            <li>
                How do we provide the benefits of a new page in the context of a SPA? These benefits are (or may be, everything is debatable)
                <ol  style="list-style:lower-alpha">
                    <li>
                        awareness of change
                    </li>
                    <li>
                        awareness of new context
                    </li>
                </ol>        
                
            </li>
        </ul>
        <ul>
            <li>
                How do we make it so that a SPA
                <ol  style="list-style:lower-alpha">
                    <li>
                        announces the change
                    </li>
                    <li>
                        provides the same affordances as a visual or mouse driven experience
                    </li>
                    <li>
                        provides the same "next up" as a mouse driven experience
                    </li>
                    <li>
                        ensures that the change is visible independently of viewport size or zoomed-in state
                    </li>
                    <li>
                        ensures that the change does not distract the user from the current task they are involved with
                    </li>
                    
                    
                </ol>        
                
            </li>
        </ul>
        <div style="margin:2rem 0;outline:1px solid #aaa; padding: 5px 10px;background-color: #ffe;border-radius: 3px;" role="radiogroup" aria-labelledby="radlabel">
            <span id="radlabel">Settings</span>
            <div class="form-check form-check-inline" style="margin-left: 2rem">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                <label class="form-check-label" for="inlineCheckbox1">Change the title</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                <label class="form-check-label" for="inlineCheckbox2">Change the h1</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3">
                <label class="form-check-label" for="inlineCheckbox3">Pass focus to the h1</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox4" value="option5">
                <label class="form-check-label" for="inlineCheckbox4">Pass focus to the new content</label>
            </div>
            
        </div>
        
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="ex1-tab" data-toggle="tab" data-target="#ex1" type="button" role="tab" aria-controls="ex1" aria-selected="true">Example 1</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="ex2-tab" data-toggle="tab" data-target="#ex2" type="button" role="tab" aria-controls="ex2" aria-selected="false">Example 2</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="ex3-tab" data-toggle="tab" data-target="#ex3" type="button" role="tab" aria-controls="ex3" aria-selected="false">Example 3</button>
            </li>
        </ul>
        <div id="focustarget"></div>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="ex1" role="tabpanel" aria-labelledby="ex1-tab">
                <br>
                <p> Example 1 content</p>
                <p><button type="button" class="btn btn-primary">This button does nothing</button></p>
            </div>
            <div class="tab-pane fade" id="ex2" role="tabpanel" aria-labelledby="ex2-tab">
                                <br>
                <p> Example 2 content</p>
                <p><button type="button" class="btn btn-primary">This button does nothing</button></p>
            </div>
            <div class="tab-pane fade" id="ex3" role="tabpanel" aria-labelledby="ex3-tab">
                                <br>
                <p> Example 3 content</p>
                <p><button type="button" class="btn btn-primary">This button does nothing</button></p>
            </div>
            </div>
            </div>
            
            <!-- Optional JavaScript -->
            <!-- jQuery first, then Popper.js, then Bootstrap JS -->
            <script
            src="https://code.jquery.com/jquery-3.6.1.min.js"
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
            crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
            
            <script>
                $('.nav-link').on('click', function(){
                    var theTitle = $(this).html();
                    var theTarget= $(this).attr('data-target');
                    if(document.getElementById('inlineCheckbox1').checked) {
                        $('title').html(theTitle);    
                    }
                    if(document.getElementById('inlineCheckbox2').checked) {
                        $('h1').html(theTitle);    
                    }
                    if(document.getElementById('inlineCheckbox3').checked) {
                        $('h1').attr('tabindex',0).focus();    
                    }
                    if(document.getElementById('inlineCheckbox4').checked) {
                        $('#focustarget').attr('tabindex',0).focus();
                    }
                })
            </script>
        </body>
        </html>