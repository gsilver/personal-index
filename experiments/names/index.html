<!doctype html>
<html lang="en">
<head>
    <title>Some name experiments</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        .p-list{
            margin-block-end: .25em;
        }
    </style>
</head>
<body>
    <div class="container">
        <br>
        <h1>Disambiguation vs label in name</h1>
        <p>Problem statement</p>
        <ul>
            <li>the interface usually presents a list of items, and for each item there is an associated set of controls (links, buttons, etc) related to that item. The relationship between controls and the items is primarily is <strong>visual</strong> </li>
            <li>there is usually a strong drive to keep the visible control names a very succint name (design preference, real estate, etc)</li>
        </ul>
<!-- 
        <h2>A list of items, ambiguous controls</h2>
        <p>Shoe items in my shopping cart. The button names visually associated with each item are ambiguous.</p>
        <ul class="pre">
            <li>
                <p id="item1a" class="p-list">  Brogue. Tan. 12 </p>
                <button type="button" class="btn btn-link btn-sm">Delete</button><button type="button" class="btn btn-link btn-sm">Edit</button>
            </li>
            <li>
                <p id="item2a"  class="p-list">Sandals. Green. 6 </p>
                <button type="button" class="btn btn-link btn-sm">Delete</button><button type="button" class="btn btn-link btn-sm">Edit</button>
            </li>
            <li>
                <p id="item3a"  class="p-list">Wellies. Blue. 7 </p>
                <button type="button" class="btn btn-link btn-sm">Delete</button><button type="button" class="btn btn-link btn-sm">Edit</button>
            </li>
        </ul>
        <h2>Using aria-label</h2>
        <p>Computed names of all controls are unambiguous and decriptive. But now the computed name and the visible name are different, making it problematic for voice control users?</p>
        <p><button type="button" id="aria-label-btn" class="btn btn-secondary btn-sm">Show computed name</button></p>
        
        <ul class="aria-label">
            <li>
                <p id="item1b" class="p-list">  Brogue. Tan. 12 </p>
                <button type="button" class="btn btn-link btn-sm" aria-label="Delete Brogue. Tan. 12">Delete</button><button type="button" class="btn btn-link btn-sm" aria-label="Edit Brogue. Tan. 12">Edit</button>
            </li>
            <li>
                <p id="item2b"  class="p-list">Sandals. Green. 6 </p>
                <button type="button" class="btn btn-link btn-sm" aria-label="Delete Sandals. Green. 6">Delete </button><button type="button" class="btn btn-link btn-sm" aria-label="Edit Sandals. Green. 6">Edit</button>
            </li>
            <li>
                <p id="item3b"  class="p-list">Wellies. Blue. 7 </p>
                <button type="button" class="btn btn-link btn-sm" aria-label="Delete Wellies. Blue. 7">Delete</button><button type="button" class="btn btn-link btn-sm" aria-label="Edit Wellies. Blue. 7">Edit</button>
            </li>
        </ul>
        
        <h2>Using short title</h2>
        <p>Best possible solution if design constraints permit it. Controls are unambiguous, descriptive.</p>
        
        <ul class="">
            
            <li>
                <p class="p-list">  Brogue. Tan. 12 </p>
                <button type="button" class="btn btn-link btn-sm">Delete Brogue</button><button type="button" class="btn btn-link btn-sm">Edit Brogue</button>
            </li>
            <li>
                <p class="p-list">Sandals. Green. 6 </p>
                <button type="button" class="btn btn-link btn-sm">Delete Sandals</button><button type="button" class="btn btn-link btn-sm">Edit Sandals</button>
            </li>
            <li>
                <p  class="p-list">Wellies. Blue. 7 </p>
                <button type="button" class="btn btn-link btn-sm">Delete Wellies</button><button type="button" class="btn btn-link btn-sm">Edit Wellies</button>
            </li>
        </ul>
        <h2>Table</h2>
        <p>Can the list be recast as tabular data? The disambiguation will be conveyed theoretically by table semantics. But assumes screen reader settings and screen reader user skill level/preferences.</p>
        <table class="table thead-dark table-striped table-hover">
            <tr>
                <th scope="col">
                    Shoe model
                </th>
                <th scope="col">
                    Color
                </th>
                <th scope="col">
                    Size
                </th>
                <th scope="col">
                    Actions
                </th>
            </tr>
            <tr>
                <th scope="row">Brogue</th>
                <td>Tan</td>
                <td>12</td>
                <td>
                    <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
                        <button type="button" class="btn btn-link">Delete</button>
                        <button type="button" class="btn btn-link">Edit</button>
                    </div>
                </td>
            </tr>
            <tr>
                <th scope="row">Sandals</th>
                <td>Green</td>
                <td>6</td>
                <td>
                    <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
                        <button type="button" class="btn btn-link">Delete</button>
                        <button type="button" class="btn btn-link">Edit</button>
                    </div>
                </td>
            </tr>
            <tr>
                <th scope="row">Wellies</th>
                <td>Blue</td>
                <td>7</td>
                <td>
                    <div class="btn-group btn-group-sm" role="group" aria-label="Actions">
                        <button type="button" class="btn btn-link">Delete</button>
                        <button type="button" class="btn btn-link">Edit</button>
                    </div>
                </td>
            </tr>
        </table> -->
        <h2>Using aria-describedby</h2>
        <p>This technique appends the text of the name of the item to the name of the control, with a pause in between, when read by a screen reader.</p>
        <p>Controls are unambiguous for screen reader users. Voice control users are no worse off than the starting example. But depending on the item title, may be too verbose for screen reader users.</p>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
              Toggle computed name (and descriptor)
            </label>
          </div>
        <br>
        
        <!-- <p> <button type="button" id="aria-desc-btn" class="btn btn-secondary btn-sm">Show computed name</button> (and descriptor)</p> -->
        
        <ul class="aria-describedby">
            
            <li>
                <p id="item1c" class="p-list">  Brogue. Tan. 12 </p>
                <button type="button" class="btn btn-link btn-sm" aria-describedby="item1c">Delete</button><button type="button" class="btn btn-link btn-sm" aria-describedby="item1c">Edit</button>
            </li>
            <li>
                <p id="item2c"  class="p-list">Sandals. Green. 6 </p>
                <button type="button" class="btn btn-link btn-sm" aria-describedby="item2c">Delete </button><button type="button" class="btn btn-link btn-sm" aria-describedby="item2c">Edit</button>
            </li>
            <li>
                <p id="item3c"  class="p-list">Wellies. Blue. 7 </p>
                <button type="button" class="btn btn-link btn-sm" aria-describedby="item3c">Delete</button><button type="button" class="btn btn-link btn-sm" aria-describedby="item3c">Edit</button>
            </li>
        </ul>
        <h2>Omitting text altogether</h2>
        <p>No text, no problem! Computed text can be anything needed. But voice control users will need to resort to tedious and inequitable grid navigation.</p>
        
        <ul>
            <li>
                <p  class="p-list">  Brogue. Tan. 12 </p>
                <button type="button" class="btn btn-dark btn-sm" aria-label="Delete Brogue. Tan. 12"><i class="bi bi-trash"></i></button> <button type="button" class="btn btn-dark btn-sm" aria-label="Edit Brogue. Tan. 12"><i class="bi bi-pencil"></i></button>
            </li>
            <li>
                <p   class="p-list">Sandals. Green. 6 </p>
                <button type="button" class="btn btn-dark btn-sm" aria-label="Delete Sandals. Green. 6"><i class="bi bi-trash"></i></button> <button type="button" class="btn btn-dark btn-sm" aria-label="Edit Sandals. Green. 6"><i class="bi bi-pencil"></i></button>
            </li>
            <li>
                <p   class="p-list">Wellies. Blue. 7 </p>
                <button type="button" class="btn btn-dark btn-sm" aria-label="Delete Wellies. Blue. 7"><i class="bi bi-trash"></i></button> <button type="button" class="btn btn-dark btn-sm" aria-label="Edit Wellies. Blue. 7"><i class="bi bi-pencil"></i></button>
            </li>
        </ul>
    </div>
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
        $(function() {
            $('#aria-label-btn').on('click', function(){
                $('.aria-label button').each(function( index ) {
                    $(this).text(this['ariaLabel'])
                });
            });

       $('#flexCheckDefault').change(function() {
             if(this.checked) {
                $('.aria-describedby button').each(function( index ) {
                    var thisText= this.textContent;
                    var thisDesc = $(this).attr('aria-describedby');
                    var thisDescText = document.getElementById(thisDesc).textContent;
                    $(this).text((thisText + ' (' + thisDescText) + ')');            
                });

              } else {
                $('.aria-describedby button').each(function( index ) {
                    if(oddOrEven(index) ==='even'){
                        $(this).text('Delete')
                    }
                    else {
                        $(this).text('Edit')
                    }

                });
              }
        });


            $('#aria-desc-btn').on('click', function(){
                $('.aria-describedby button').each(function( index ) {
                    var thisText= this.textContent;
                    var thisDesc = $(this).attr('aria-describedby');
                    var thisDescText = document.getElementById(thisDesc).textContent;
                    $(this).text((thisText + ' (' + thisDescText) + ')');            
                });
            })
            
        });
        function oddOrEven(x) {
            return ( x & 1 ) ? "odd" : "even";
        }
        
    </script>
</body>
</html>